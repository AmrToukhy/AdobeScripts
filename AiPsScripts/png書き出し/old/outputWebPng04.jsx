/*  outputWebPng.jsx ver 0.4    ##画像をphotoshop経由でweb吐き出しする。    update : 2012/12/10  author : ishiyama@sirok.co.jp           http://takahiro.me  ©2012 SIROK, Inc. All Rights Reserved.   */#target 'illustrator'function eventHandler(hoge) {      alert ( hoge );  }  /*photoshopConnection*/var sendPSD = function(FN, obj) {      var bt=new BridgeTalk();      bt.target = 'photoshop' ;      bt.body = uneval(FN)+'('+uneval(obj)+')';      bt.onResult= function(resObj){          eventHandler( eval(resObj.body) );      };    bt.error = function(resObj){       $.writeln("error");    };    bt.send();  }    //Photoshopで実行する関数function openPsd(obj) {      obj.start();    $.writeln(obj.data);    alertObj(obj.data);    app.open ( File(obj.fDir) );      var dummy = obj.mes;      return uneval (dummy); }    docObj = app.activeDocument; //ファイル情報取得selObj = docObj.selection;targetName = selObj.name;selwidth = parseInt(selObj.width);selheight = parseInt(selObj.height);app.copy();arrObj.start = function() { $.writeln ('PhotoshopOpen'); };arrObj.data = { width : selwidth, height : selheight, name : targetName};arrObj.debug = function alertObj(obj) {    var properties = '';    for (var prop in obj){        properties += prop + "=" + obj[prop] + "\n";    }    alert(properties);}sendPSD(openPsd, arrObj); //BridgeTalk送信部へ 